(function(e){CKEDITOR.plugins.add("quail",{active:!1,init:function(e){var t=this;e.addCss(".quail-result { padding: 3px; border-radius: 3px;}.quail-result.severe { border: 3px dashed red; }.quail-result.moderate { border: 3px dashed orange; }.quail-result.reccomendation { border: 3px solid green; }.quail-message { position: fixed; background: #fff; color: #000 !important; text-decoration: none !important; border: 1px solid black; padding: 10px;}");e.addCommand("checkQuail",{exec:function(e){if(t.active){t.removeMarkup(e);t.active=!1}else{t.checkContent(e);t.active=!0}}});e.ui.addButton("Quail",{label:"Check content for accessibility",command:"checkQuail",icon:this.path+"img/quail.png"})},removeMarkup:function(t){e(t.document.getDocumentElement().$).find(".quail-result").each(function(){e(this).removeClass("quail-result").removeClass("severe").removeClass("moderate").removeClass("suggestion").unbind("hover")});e(t.document.getDocumentElement().$).find(".quail-message").remove()},checkContent:function(t){var n=t.config.quailOptions;typeof n.testFailed!="object"&&(n.testFailed=function(t){t.element.addClass("quail-result").addClass(t.severity);if(typeof (n.ckEditorMessage==="object")){var r=n.ckEditorMessage(t);t.element.hover(function(){var n=e('<div class="quail-message">'+r+"</div>"),i=t.element.position();n.css("top",i.top+5+"px").css("left",i.left+t.element.width()+5+"px");t.element.after(n)},function(){t.element.next(".quail-message").remove()})}});e(t.document.getDocumentElement().$).quail(n)}})})(jQuery);